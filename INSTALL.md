# ğŸ“¥ Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ¿Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞµ / Detailed Installation Guide

---

## âš ï¸ ĞĞ•Ğ¢ Ğ¿Ğ°Ğ¿ĞºĞ¸ `python_libs`!

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **subprocess Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ** - torch Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² **Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ**!  
**ĞĞ•** ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ² Ğ¿Ğ°Ğ¿ĞºÑƒ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½Ğ° - ÑÑ‚Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ **Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ»**.

ğŸ“– ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ: [README.md - ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](./README.md#-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°--architecture)

---

## ğŸ†• Ğ”Ğ›Ğ¯ Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’Ğ©Ğ˜ĞšĞĞ’: ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ°Ñ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ

**Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚Ğµ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½ Ğ²Ğ¿ĞµÑ€Ğ²Ñ‹Ğµ**, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ÑƒÑ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ:

ğŸ“– **[INSTALLATION_STEP_BY_STEP.md](./INSTALLATION_STEP_BY_STEP.md)** â† ĞĞ°Ñ‡Ğ½Ğ¸Ñ‚Ğµ Ğ·Ğ´ĞµÑÑŒ!

Ğ¢Ğ°Ğ¼ ĞµÑÑ‚ÑŒ:
- âœ… Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Python 3.10
- âœ… Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° PyTorch Ñ CUDA (Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°Ğ¼Ğ¸!)
- âœ… Ğ’ÑĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ñ Ğ²ĞµÑ€ÑĞ¸ÑĞ¼Ğ¸
- âœ… Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ SAM 2.1 (Ğ¿Ñ€ÑĞ¼Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸)
- âœ… ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Nuke init.py Ğ¸ menu.py
- âœ… Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº
- âœ… Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼

---

## ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ (ĞšÑ€Ğ°Ñ‚ĞºĞ°Ñ)

### ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

#### 1. NVIDIA GPU Ñ CUDA
- **ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼**: GTX 1060 6GB Ğ¸Ğ»Ğ¸ Ğ²Ñ‹ÑˆĞµ
- **Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ**: RTX 3060 12GB Ğ¸Ğ»Ğ¸ Ğ²Ñ‹ÑˆĞµ
- **ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾**: RTX 4090 24GB

#### 2. Windows 10/11 64-bit

#### 3. Nuke 16.0v4 Ğ¸Ğ»Ğ¸ Ğ²Ñ‹ÑˆĞµ

#### 4. 20 GB ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµÑÑ‚Ğ° Ğ½Ğ° Ğ´Ğ¸ÑĞºĞµ

---

### Ğ¨Ğ°Ğ³ 1: Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Python 3.10

1. **Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ Python 3.10.11**:
   - https://www.python.org/downloads/release/python-31011/
   - Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ: "Windows installer (64-bit)"

2. **Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ñ‰Ğ¸Ğº**:
   - âœ… **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¾Ñ‚Ğ¼ĞµÑ‚ÑŒÑ‚Ğµ**: "Add Python 3.10 to PATH"
   - âœ… **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¾Ñ‚Ğ¼ĞµÑ‚ÑŒÑ‚Ğµ**: "Install for all users"
   - ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Install Now"

3. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ**:
   ```cmd
   python --version
   ```
   Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸: `Python 3.10.11`

---

### Ğ¨Ğ°Ğ³ 2: ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¸ CUDA

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½ÑƒÑ ÑÑ‚Ñ€Ğ¾ĞºÑƒ Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ:

```cmd
nvidia-smi
```

ĞĞ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ ÑÑ‚Ñ€Ğ¾ĞºÑƒ:
```
CUDA Version: 12.1
```

**Ğ•ÑĞ»Ğ¸ CUDA Version:**
- **12.x** â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ cu121
- **11.x** â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ cu118

---

### Ğ¨Ğ°Ğ³ 3: Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° PyTorch Ñ CUDA

#### Ğ”Ğ»Ñ CUDA 12.1 (RTX 4090, RTX 4080, RTX 4070 Ğ¸ Ğ½Ğ¾Ğ²ĞµĞµ):

```cmd
pip install torch==2.5.1+cu121 torchvision==0.20.1+cu121 --index-url https://download.pytorch.org/whl/cu121
```

#### Ğ”Ğ»Ñ CUDA 11.8 (RTX 3090, RTX 3080, RTX 3070):

```cmd
pip install torch==2.5.1+cu118 torchvision==0.20.1+cu118 --index-url https://download.pytorch.org/whl/cu118
```

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ**:
```cmd
python -c "import torch; print('torch:', torch.__version__); print('CUDA:', torch.cuda.is_available())"
```

Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸:
```
torch: 2.5.1+cu121
CUDA: True
```

âš ï¸ **Ğ•ÑĞ»Ğ¸ CUDA: False** - Ğ¿ĞµÑ€ĞµÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ PyTorch Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸ĞµĞ¹ CUDA!

---

### Ğ¨Ğ°Ğ³ 4: Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ Ğ´Ğ»Ñ System Python

**ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ):**
```cmd
cd %USERPROFILE%\.nuke\NukeSamurai
pip install -r requirements.txt
```

**Ğ˜Ğ»Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ Ñ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¼Ğ¸ Ğ²ĞµÑ€ÑĞ¸ÑĞ¼Ğ¸:**
```cmd
pip install numpy>=1.26.0 opencv-python>=4.8.0 Pillow>=10.0.0 hydra-core>=1.3.0 omegaconf>=2.3.0 iopath>=0.1.10 timm>=0.9.0 tqdm>=4.65.0 einops>=0.7.0 loguru>=0.7.0 scipy>=1.10.0
```

**Ğ˜Ğ»Ğ¸ Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ:**
```cmd
pip install numpy>=1.26.0
pip install opencv-python>=4.8.0
pip install Pillow>=10.0.0
pip install hydra-core>=1.3.0
pip install omegaconf>=2.3.0
pip install iopath>=0.1.10
pip install timm>=0.9.0
pip install tqdm>=4.65.0
pip install einops>=0.7.0
pip install loguru>=0.7.0
pip install scipy>=1.10.0
```

âš ï¸ **Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Ğ’ÑĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ² system Python, Ğ³Ğ´Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ PyTorch!

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ**:
```cmd
pip list | findstr "opencv numpy pillow tqdm hydra loguru timm einops"
```

### Ğ¨Ğ°Ğ³ 4.5: Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° OpenCV Ğ´Ğ»Ñ Nuke Python (Ğ´Ğ»Ñ Bounding Box)

âš ï¸ **ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞĞ–ĞĞ:** Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ "Create Bounding Box" Ğ½ÑƒĞ¶ĞµĞ½ opencv-python Ğ² **Nuke Python**!

ğŸš¨ **Ğ¡ĞĞĞ§ĞĞ›Ğ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ’ĞĞ¨Ğ£ Ğ²ĞµÑ€ÑĞ¸Ñ Nuke:**
```cmd
dir "C:\Program Files" | findstr Nuke
```

**ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ CMD/PowerShell ĞºĞ°Ğº ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€:**

Ğ”Ğ»Ñ Nuke 16.0v4:
```cmd
"C:\Program Files\Nuke16.0v4\python.exe" -m pip install --force-reinstall opencv-python>=4.8.0 numpy>=1.26.0
```

Ğ”Ğ»Ñ Nuke 15.x (15.1v3, 15.1v5):
```cmd
"C:\Program Files\Nuke15.1v3\python.exe" -m pip install --force-reinstall opencv-python==4.8.0.74 "numpy>=1.24.0,<2.0.0"
```

âš ï¸ **Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ²ĞµÑ€ÑĞ¸Ñ Ğ½Ğ° Ğ’ĞĞ¨Ğ£!** Ğ•ÑĞ»Ğ¸ Ğ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ "Ñ„Ğ°Ğ¹Ğ» Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½" - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ²ĞµÑ€ÑĞ¸Ñ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾!

ğŸ’¡ **Ğ”Ğ»Ñ Nuke 15.x Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ opencv-python==4.8.0.74** (Ğ±Ğ¾Ğ»ĞµĞµ ÑÑ‚Ğ°Ñ€Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ° Ñ numpy <2.0)

ğŸ’¡ **`--force-reinstall`** Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ğ² Nuke Python!

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° (Ğ’ĞĞ–ĞĞ!):**
```cmd
"C:\Program Files\Nuke16.0v4\python.exe" -c "import cv2; print('Path:', cv2.__file__)"
```

âš ï¸ ĞŸÑƒÑ‚ÑŒ Ğ”ĞĞ›Ğ–Ğ•Ğ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ `Nuke16.0v4\lib\site-packages` (Ğ¸Ğ»Ğ¸ `Nuke15.1v3\lib\site-packages` Ğ´Ğ»Ñ Nuke 15), **ĞĞ•** `AppData\Roaming\Python\Python310`!

---

### Ğ¨Ğ°Ğ³ 5: ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½Ğ°

```cmd
cd %USERPROFILE%\.nuke
git clone https://github.com/YOUR_USERNAME/NukeSamurai-Windows.git NukeSamurai
cd NukeSamurai
```

---

### Ğ¨Ğ°Ğ³ 6: Ğ¡ĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ SAM 2.1

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Ğ§ĞµÑ€ĞµĞ· Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€

1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ: https://github.com/facebookresearch/sam2/releases
2. Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸:
   - `sam2.1_hiera_base_plus.pt` (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ, ~314 MB)
   - `sam2.1_hiera_large.pt` (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ~894 MB)
   - `sam2.1_hiera_small.pt` (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ~184 MB)
   - `sam2.1_hiera_tiny.pt` (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ~155 MB)

3. ĞŸĞ¾Ğ¼ĞµÑÑ‚Ğ¸Ñ‚Ğµ Ğ²:
   ```
   %USERPROFILE%\.nuke\NukeSamurai\sam2_repo\checkpoints\
   ```

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: Ğ§ĞµÑ€ĞµĞ· ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½ÑƒÑ ÑÑ‚Ñ€Ğ¾ĞºÑƒ

```cmd
cd %USERPROFILE%\.nuke\NukeSamurai\sam2_repo\checkpoints

curl -L -o sam2.1_hiera_base_plus.pt https://dl.fbaipublicfiles.com/segment_anything_2/092824/sam2.1_hiera_base_plus.pt
```

---

### Ğ¨Ğ°Ğ³ 7: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Nuke (ĞµÑĞ»Ğ¸ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½ Ğ½Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸)

**Nuke Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚** `init.py` Ğ¸ `menu.py` Ğ¸Ğ· Ğ²ÑĞµÑ… Ğ¿Ğ¾Ğ´Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹ `.nuke/`.

ĞĞ¾ ĞµÑĞ»Ğ¸ Ñƒ Ğ²Ğ°Ñ Ğ£Ğ–Ğ• ĞµÑÑ‚ÑŒ ÑĞ²Ğ¾Ğ¹ `.nuke/init.py` Ğ¸Ğ»Ğ¸ `.nuke/menu.py`, Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ñ‚ÑƒĞ´Ğ°:

#### Ğ’ `.nuke/init.py` (ÑĞ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ, ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚):

```python
# NukeSamurai Plugin
nuke.pluginAddPath('./NukeSamurai')
```

#### Ğ’ `.nuke/menu.py` (ÑĞ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ, ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚):

```python
# NukeSamurai Plugin
import nuke
nuke.pluginAddPath('./NukeSamurai')
```

**Ğ˜Ğ›Ğ˜** Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ´ĞµĞ»Ğ°Ğ¹Ñ‚Ğµ - Nuke Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¸Ğ· `NukeSamurai/init.py`!

---

### Ğ¨Ğ°Ğ³ 8: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ **Nuke**.

Ğ’ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ (F8) Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑŒÑÑ:
```
[NukeSamurai] Plugin loaded (GPU via subprocess)
```

âœ… Ğ•ÑĞ»Ğ¸ Ğ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ ÑÑ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ - ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾!

---

### Ğ¨Ğ°Ğ³ 9: ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº

1. Ğ’ Nuke Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ **Tab**
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ **SAMURAI**
3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ ÑƒĞ·ĞµĞ»

Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑŒÑÑ ÑƒĞ·ĞµĞ» SAMURAI Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸:
- Update Path
- Create Bounding Box
- Generate Mask

---

## Ğ£ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼

### "Plugin not found"

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ**:
```
%USERPROFILE%\.nuke\
â””â”€â”€ NukeSamurai\
    â”œâ”€â”€ init.py
    â”œâ”€â”€ menu.py
    â”œâ”€â”€ scripts\
    â”‚   â”œâ”€â”€ nuke_samurai.py
    â”‚   â”œâ”€â”€ sam2_worker.py
    â”‚   â””â”€â”€ demo.py
    â””â”€â”€ sam2_repo\
        â””â”€â”€ checkpoints\
            â””â”€â”€ sam2.1_hiera_base_plus.pt
```

### "torch not found" Ğ¸Ğ»Ğ¸ "Worker failed with code 1"

```cmd
python -c "import torch"
```

Ğ•ÑĞ»Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° - Ğ¿ĞµÑ€ĞµÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ PyTorch (Ğ¨Ğ°Ğ³ 3).

**Ğ•ÑĞ»Ğ¸ Worker Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Python** (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ `.\.python.EXE`):

Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½ÑƒÑ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ:
```cmd
setx SAMURAI_PYTHON "C:\Users\YourUsername\AppData\Local\Programs\Python\Python310\python.exe"
```

Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ `YourUsername` Ğ½Ğ° Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¸ Ğ¿ÑƒÑ‚ÑŒ Ğ½Ğ° Ğ²Ğ°Ñˆ Ğ¿ÑƒÑ‚ÑŒ Ğº Python 3.10.

ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Nuke Ğ¿Ğ¾ÑĞ»Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ¹.

### "CUDA: False"

1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ NVIDIA Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ğ°:
   ```cmd
   nvidia-smi
   ```

2. ĞŸĞµÑ€ĞµÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ PyTorch Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸ĞµĞ¹ CUDA.

3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ CUDA Toolkit:
   ```cmd
   nvcc --version
   ```

---

## ğŸ‡¬ğŸ‡§ English Version

### Prerequisites

#### 1. NVIDIA GPU with CUDA
- **Minimum**: GTX 1060 6GB or higher
- **Recommended**: RTX 3060 12GB or higher
- **Optimal**: RTX 4090 24GB

#### 2. Windows 10/11 64-bit

#### 3. Nuke 16.0v4 or higher

#### 4. 20 GB free disk space

---

### Step 1: Install Python 3.10

1. **Download Python 3.10.11**:
   - https://www.python.org/downloads/release/python-31011/
   - Choose: "Windows installer (64-bit)"

2. **Run installer**:
   - âœ… **CHECK**: "Add Python 3.10 to PATH"
   - âœ… **CHECK**: "Install for all users"
   - Click "Install Now"

3. **Verify installation**:
   ```cmd
   python --version
   ```
   Should output: `Python 3.10.11`

---

### Step 2: Determine CUDA Version

Open command prompt and run:

```cmd
nvidia-smi
```

Find line:
```
CUDA Version: 12.1
```

**If CUDA Version:**
- **12.x** â†’ use cu121
- **11.x** â†’ use cu118

---

### Step 3: Install PyTorch with CUDA

#### For CUDA 12.1 (RTX 4090, RTX 4080, RTX 4070 and newer):

```cmd
pip install torch==2.5.1+cu121 torchvision==0.20.1+cu121 --index-url https://download.pytorch.org/whl/cu121
```

#### For CUDA 11.8 (RTX 3090, RTX 3080, RTX 3070):

```cmd
pip install torch==2.5.1+cu118 torchvision==0.20.1+cu118 --index-url https://download.pytorch.org/whl/cu118
```

**Verify installation**:
```cmd
python -c "import torch; print('torch:', torch.__version__); print('CUDA:', torch.cuda.is_available())"
```

Should output:
```
torch: 2.5.1+cu121
CUDA: True
```

âš ï¸ **If CUDA: False** - reinstall PyTorch with correct CUDA version!

---

### Step 4: Install Dependencies

**Automatic (recommended):**
```cmd
cd %USERPROFILE%\.nuke\NukeSamurai
pip install -r requirements.txt
```

**Or manually with exact versions:**
```cmd
pip install numpy>=1.26.0 opencv-python>=4.8.0 Pillow>=10.0.0 hydra-core>=1.3.0 omegaconf>=2.3.0 iopath>=0.1.10 timm>=0.9.0 tqdm>=4.65.0 einops>=0.7.0 loguru>=0.7.0 scipy>=1.10.0
```

**Or one by one:**
```cmd
pip install numpy>=1.26.0
pip install opencv-python>=4.8.0
pip install Pillow>=10.0.0
pip install hydra-core>=1.3.0
pip install omegaconf>=2.3.0
pip install iopath>=0.1.10
pip install timm>=0.9.0
pip install tqdm>=4.65.0
pip install einops>=0.7.0
pip install loguru>=0.7.0
pip install scipy>=1.10.0
```

âš ï¸ **Important:** All dependencies must be installed in the same system Python where PyTorch is installed!

**Verify**:
```cmd
pip list | findstr "opencv numpy pillow tqdm hydra loguru timm einops"
```

---

### Step 5: Clone Plugin

```cmd
cd %USERPROFILE%\.nuke
git clone https://github.com/YOUR_USERNAME/NukeSamurai-Windows.git NukeSamurai
cd NukeSamurai
```

---

### Step 6: Download SAM 2.1 Models

#### Option 1: Via Browser

1. Go to: https://github.com/facebookresearch/sam2/releases
2. Download models:
   - `sam2.1_hiera_base_plus.pt` (recommended, ~314 MB)
   - `sam2.1_hiera_large.pt` (optional, ~894 MB)
   - `sam2.1_hiera_small.pt` (optional, ~184 MB)
   - `sam2.1_hiera_tiny.pt` (optional, ~155 MB)

3. Place in:
   ```
   %USERPROFILE%\.nuke\NukeSamurai\sam2_repo\checkpoints\
   ```

#### Option 2: Via Command Line

```cmd
cd %USERPROFILE%\.nuke\NukeSamurai\sam2_repo\checkpoints

curl -L -o sam2.1_hiera_base_plus.pt https://dl.fbaipublicfiles.com/segment_anything_2/092824/sam2.1_hiera_base_plus.pt
```

---

### Step 7: Configure Nuke (if plugin doesn't load automatically)

**Nuke automatically loads** `init.py` and `menu.py` from all subdirectories in `.nuke/`.

But if you ALREADY have your own `.nuke/init.py` or `.nuke/menu.py`, add there:

#### In `.nuke/init.py` (create if doesn't exist):

```python
# NukeSamurai Plugin
nuke.pluginAddPath('./NukeSamurai')
```

#### In `.nuke/menu.py` (create if doesn't exist):

```python
# NukeSamurai Plugin
import nuke
nuke.pluginAddPath('./NukeSamurai')
```

**OR** just do nothing - Nuke will load the plugin automatically from `NukeSamurai/init.py`!

---

### Step 8: Verify Installation

Open **Nuke**.

In console (F8) you should see:
```
[NukeSamurai] Plugin loaded (GPU via subprocess)
```

âœ… If you see this message - installation successful!

---

### Step 9: First Run

1. In Nuke press **Tab**
2. Type **SAMURAI**
3. Create node

SAMURAI node should appear with buttons:
- Update Path
- Create Bounding Box
- Generate Mask

---

## Troubleshooting

### "Plugin not found"

**Check structure**:
```
%USERPROFILE%\.nuke\
â””â”€â”€ NukeSamurai\
    â”œâ”€â”€ init.py
    â”œâ”€â”€ menu.py
    â”œâ”€â”€ scripts\
    â”‚   â”œâ”€â”€ nuke_samurai.py
    â”‚   â”œâ”€â”€ sam2_worker.py
    â”‚   â””â”€â”€ demo.py
    â””â”€â”€ sam2_repo\
        â””â”€â”€ checkpoints\
            â””â”€â”€ sam2.1_hiera_base_plus.pt
```

### "torch not found" or "Worker failed with code 1"

```cmd
python -c "import torch"
```

If error - reinstall PyTorch (Step 3).

**If Worker finds wrong Python** (e.g. `.\.python.EXE`):

Set environment variable manually:
```cmd
setx SAMURAI_PYTHON "C:\Users\YourUsername\AppData\Local\Programs\Python\Python310\python.exe"
```

Replace `YourUsername` with your username and path with your Python 3.10 path.

Restart Nuke after setting the variable.

### "CUDA: False"

1. Check NVIDIA drivers:
   ```cmd
   nvidia-smi
   ```

2. Reinstall PyTorch with correct CUDA version.

3. Check CUDA Toolkit:
   ```cmd
   nvcc --version
   ```

---

âœ… **Installation complete! Enjoy GPU-accelerated masking in Nuke!** ğŸš€

