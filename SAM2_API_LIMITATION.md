# ‚ö†Ô∏è SAM2 API Limitation: Reference Frame

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **Reference Frame Selector** (–≤—ã–±–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–∞–¥—Ä–∞ –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏ –æ–±—ä–µ–∫—Ç–∞) —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å —Å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º SAM2 API.

### –ß—Ç–æ –ü—Ä–æ–∏–∑–æ—à–ª–æ?

**v1.2** –ø—ã—Ç–∞–ª—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –ø–æ–∑–≤–æ–ª—è—é—â—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
1. –í—ã–±—Ä–∞—Ç—å **–ª—é–±–æ–π –∫–∞–¥—Ä** –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Reference Frame)
2. –°–æ–∑–¥–∞—Ç—å Bounding Box –Ω–∞ —ç—Ç–æ–º –∫–∞–¥—Ä–µ
3. SAM2 –¥–æ–ª–∂–µ–Ω –±—ã–ª –ø—Ä–æ–ø–∞–≥–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å–∫—É –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ç reference frame

### –û—à–∏–±–∫–∞

```python
KeyError: 111
File "sam2/modeling/sam2_base.py", line 665, in _prepare_memory_conditioned_features
    iou_score = output_dict["non_cond_frame_outputs"][i]["best_iou_score"]
KeyError: 111
```

**–ü—Ä–∏—á–∏–Ω–∞**: SAM2 –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ **—Ç—Ä–µ–±—É–µ—Ç**, —á—Ç–æ–±—ã –ø—Ä–æ–º–ø—Ç (bbox/—Ç–æ—á–∫–∏) –±—ã–ª **–≤—Å–µ–≥–¥–∞ –Ω–∞ –∏–Ω–¥–µ–∫—Å–µ 0** (–ø–µ—Ä–≤–æ–º –∫–∞–¥—Ä–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏).

–ö–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ `frame_idx=111` –≤ `add_new_points_or_box()`, SAM2:
- –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–ª –æ–±—ä–µ–∫—Ç –Ω–∞ –∫–∞–¥—Ä–µ 111 ‚úÖ
- –ü–æ–ø—ã—Ç–∞–ª—Å—è –ø—Ä–æ–ø–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–∞–¥ –∫ –∫–∞–¥—Ä—É 0 ‚ùå
- –ù–µ –Ω–∞—à—ë–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª–æ–≤–∞—Ä–µ `non_cond_frame_outputs` ‚ùå
- –í—ã–±—Ä–æ—Å–∏–ª `KeyError: 111` ‚ùå

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ü—Ä–∏—á–∏–Ω–∞

SAM2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ª–æ–≤–∞—Ä—å `non_cond_frame_outputs` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–¥—Ä–∞—Ö. –≠—Ç–æ—Ç —Å–ª–æ–≤–∞—Ä—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞–¥—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ **–æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã** –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–ø–∞–≥–∞—Ü–∏–∏.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ SAM2:

```
1. init_state(video_path, frame_range)
   ‚Üí –ß–∏—Ç–∞–µ—Ç –í–°–ï –∫–∞–¥—Ä—ã (0-N) –≤ –ø–∞–º—è—Ç—å

2. add_new_points_or_box(state, box, frame_idx=0, obj_id=0)
   ‚Üí –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –Ω–∞ –∫–∞–¥—Ä–µ —Å –∏–Ω–¥–µ–∫—Å–æ–º frame_idx
   ‚Üí –û–∂–∏–¥–∞–µ—Ç, —á—Ç–æ frame_idx = 0

3. propagate_in_video(state)
   ‚Üí –ü—Ä–æ–ø–∞–≥–∏—Ä—É–µ—Ç –º–∞—Å–∫—É –í–ü–ï–†–Å–î –æ—Ç frame_idx –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∫–∞–¥—Ä—É
   ‚Üí –ó–∞–ø–æ–ª–Ω—è–µ—Ç non_cond_frame_outputs[0], [1], [2], ... –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ï—Å–ª–∏ `frame_idx=111`, SAM2 –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–ø–∞–≥–∏—Ä–æ–≤–∞—Ç—å **–Ω–∞–∑–∞–¥** –∫ –∫–∞–¥—Ä—É 0, –Ω–æ `non_cond_frame_outputs[111]` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–æ–ø–∞–≥–∞—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0.

---

## üí° –ü–æ—á–µ–º—É –ü—Ä–æ—Å—Ç–æ –ù–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `frame_idx=111`?

–ú—ã –ø—ã—Ç–∞–ª–∏—Å—å:

```python
# –ù–ï –†–ê–ë–û–¢–ê–ï–¢!
_, _, masks = predictor.add_new_points_or_box(state, box=bbox, frame_idx=111, obj_id=0)
for frame_idx, object_ids, masks in predictor.propagate_in_video(state):
    # KeyError: 111 ‚ùå
```

SAM2 API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ –Ω–∞–ø—Ä—è–º—É—é. –ü–∞—Ä–∞–º–µ—Ç—Ä `frame_idx` –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è **–Ω–µ –≥–æ—Ç–æ–≤–∞** –∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –∏–Ω–¥–µ–∫—Å–∞–º.

---

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –†–µ—à–µ–Ω–∏—è (–ë—É–¥—É—â–∏–µ –í–µ—Ä—Å–∏–∏)

### **–†–µ—à–µ–Ω–∏–µ 1: –ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å –ö–∞–¥—Ä—ã (–°–ª–æ–∂–Ω–æ)**

**–ò–¥–µ—è**: –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∫–∞–¥—Ä–æ–≤ —Ç–∞–∫, —á—Ç–æ–±—ã reference frame –±—ã–ª –ø–µ—Ä–≤—ã–º.

```python
# –ü—Ä–∏–º–µ—Ä:
# Frame Range: 1001-1200
# Reference Frame: 1112

# 1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∫–∞–¥—Ä—ã –≤ –ø–æ—Ä—è–¥–∫–µ: [1112, 1001, 1002, ..., 1111, 1113, ..., 1200]
# 2. –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–Ω–¥–µ–∫—Å–µ 0 (–∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –∫–∞–¥—Ä 1112)
# 3. –ü—Ä–æ–ø–∞–≥–∏—Ä–æ–≤–∞—Ç—å
# 4. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –º–∞—Å–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫: [1001, 1002, ..., 1200]
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- –¢—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ `ReadSequence` –≤ `sam2/utils/misc.py`
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ SAM2

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è

---

### **–†–µ—à–µ–Ω–∏–µ 2: –î–≤–∞ –ü—Ä–æ—Ö–æ–¥–∞ (–ú–µ–Ω–µ–µ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ)**

**–ò–¥–µ—è**: –°–¥–µ–ª–∞—Ç—å –¥–≤–∞ –ø—Ä–æ—Ö–æ–¥–∞ –ø—Ä–æ–ø–∞–≥–∞—Ü–∏–∏.

```python
# 1. –ü—Ä–æ–ø–∞–≥–∞—Ü–∏—è –í–ü–ï–†–Å–î –æ—Ç reference_frame –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∫–∞–¥—Ä—É
predictor.add_new_points_or_box(state, box=bbox, frame_idx=111, obj_id=0)
forward_masks = propagate_forward(state, from_idx=111, to_idx=200)

# 2. –ü—Ä–æ–ø–∞–≥–∞—Ü–∏—è –ù–ê–ó–ê–î –æ—Ç reference_frame –∫ –ø–µ—Ä–≤–æ–º—É –∫–∞–¥—Ä—É
backward_masks = propagate_backward(state, from_idx=111, to_idx=0)

# 3. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–∞—Å–∫–∏
all_masks = backward_masks + [ref_frame_mask] + forward_masks
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- SAM2 –Ω–µ –∏–º–µ–µ—Ç `propagate_backward` API
- –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞—Ç–Ω–æ–π –ø—Ä–æ–ø–∞–≥–∞—Ü–∏–∏
- –£–¥–≤–∞–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

---

### **–†–µ—à–µ–Ω–∏–µ 3: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è SAM2 Core (–ü—Ä–∞–≤–∏–ª—å–Ω–æ, –ù–æ –î–æ–ª–≥–æ)**

**–ò–¥–µ—è**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å SAM2 –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ `frame_idx`.

**–ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å**:
1. `sam2/modeling/sam2_base.py`: 
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `non_cond_frame_outputs[frame_idx]` –ø—Ä–∏ `add_new_points_or_box`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –ø—Ä–æ–ø–∞–≥–∞—Ü–∏—é

2. `sam2/sam2_video_predictor.py`:
   - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `bidirectional=True` –≤ `propagate_in_video`
   - –ü—Ä–æ–ø–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–∞–¥ (frame_idx ‚Üí 0) –∏ –≤–ø–µ—Ä—ë–¥ (frame_idx ‚Üí N)

3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

**–ü—Ä–æ–±–ª–µ–º—ã**:
- –¢—Ä–µ–±—É–µ—Ç –≥–ª—É–±–æ–∫–∏—Ö –∑–Ω–∞–Ω–∏–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π SAM2
- –ú–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –±—É–¥—É—â–∏–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ SAM2
- –î–æ–ª–≥–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è

---

### **–†–µ—à–µ–Ω–∏–µ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Workaround (–¢–µ–∫—É—â–µ–µ –†–µ—à–µ–Ω–∏–µ)**

**–ò–¥–µ—è**: –ü—Ä–∏–Ω—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **–∏–∑–º–µ–Ω–∏—Ç—å Frame Range**, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–ª–æ—Ö–æ –≤–∏–¥–µ–Ω –Ω–∞ –ø–µ—Ä–≤–æ–º –∫–∞–¥—Ä–µ.

```
–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–ª–æ—Ö–æ –≤–∏–¥–µ–Ω –Ω–∞ –∫–∞–¥—Ä–µ 1001:
‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Frame Range: 1050 - 1200 (–Ω–∞—á–Ω–∏—Ç–µ —Å "—Ö–æ—Ä–æ—à–µ–≥–æ" –∫–∞–¥—Ä–∞)
‚Üí –°–æ–∑–¥–∞–π—Ç–µ bbox –Ω–∞ –∫–∞–¥—Ä–µ 1050
‚Üí –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –º–∞—Å–∫–∏
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –°–ï–ô–ß–ê–°
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ SAM2
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ —É–¥–æ–±–Ω–æ, —á–µ–º arbitrary reference frame
- ‚ö†Ô∏è –ù–µ –≤—Å–µ –∫–∞–¥—Ä—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –∫–∞–¥—Ä—ã –¥–æ "—Ö–æ—Ä–æ—à–µ–≥–æ")

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü¢ –ù–∏–∑–∫–∞—è (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

---

## üìã –ß—Ç–æ –°–¥–µ–ª–∞–Ω–æ?

1. **v1.2** - –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Reference Frame ‚ùå
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞ `KeyError: 111` ‚ùå
3. **–ê–Ω–∞–ª–∏–∑** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ (SAM2 API limitation) ‚úÖ
4. **–û—Ç–∫–∞—Ç** - –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫–∞—á–µ–Ω–∞, –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ v1.1 ‚úÖ
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –°–æ–∑–¥–∞–Ω —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π ‚úÖ

---

## üîÆ –ë—É–¥—É—â–µ–µ: SAM 3.0

**SAM 3.0** (Meta, 20 –Ω–æ—è–±—Ä—è 2025) –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É!

–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ SAM3 (`SAM3_ANALYSIS.md`):
- üéØ **Session Management**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Å—Å–∏–π
- üéØ **Flexible Prompting**: –ü—Ä–æ–º–ø—Ç –Ω–∞ **–ª—é–±–æ–º –∫–∞–¥—Ä–µ** (`frame_index` –≤ API)
- üéØ **Text Prompts**: "red car", "person in blue shirt" (—Ä–µ–≤–æ–ª—é—Ü–∏—è!)

**–í—ã–≤–æ–¥**: –ö–æ–≥–¥–∞ –±—É–¥–µ–º –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SAM 3.0, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–π "–∏–∑ –∫–æ—Ä–æ–±–∫–∏".

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –î–æ–∫—É–º–µ–Ω—Ç—ã

- `SAM3_ANALYSIS.md` - –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π SAM 3.0
- `IMPROVEMENTS.md` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (v1.1 —Ä–∞–±–æ—Ç–∞–µ—Ç)
- `REFERENCE_FRAME_GUIDE.md` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (–æ—Ç–∫–∞—á–µ–Ω–æ, –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **–°–ï–ô–ß–ê–° (v1.1)**:

**–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–ª–æ—Ö–æ –≤–∏–¥–µ–Ω –Ω–∞ –ø–µ—Ä–≤–æ–º –∫–∞–¥—Ä–µ:**

1. **–í–∞—Ä–∏–∞–Ω—Ç A**: –ò–∑–º–µ–Ω–∏—Ç–µ Frame Range
   ```
   –ë—ã–ª–æ:    Frame Range: 1001 - 1200
   –°—Ç–∞–Ω–µ—Ç:  Frame Range: 1050 - 1200 (–Ω–∞—á–Ω–∏—Ç–µ —Å "—Ö–æ—Ä–æ—à–µ–≥–æ" –∫–∞–¥—Ä–∞)
   ```

2. **–í–∞—Ä–∏–∞–Ω—Ç B**: –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤ –¥–≤–∞ –∑–∞—Ö–æ–¥–∞
   ```
   –ó–∞—Ö–æ–¥ 1: Frame Range: 1001 - 1049 (—Å bbox –Ω–∞ 1001)
   –ó–∞—Ö–æ–¥ 2: Frame Range: 1050 - 1200 (—Å bbox –Ω–∞ 1050)
   –ó–∞—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ –º–∞—Å–∫–∏ –≤ Nuke (Merge/Mix)
   ```

3. **–í–∞—Ä–∏–∞–Ω—Ç C**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–¥—Ä—É–≥–∏–µ –ø—Ä–æ–º–ø—Ç—ã** (—Ç–æ—á–∫–∏ –≤–º–µ—Å—Ç–æ bbox)
   - SAM2 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ—á–∫–∏ (`add_new_points`)
   - –≠—Ç–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ª—É—á—à–µ –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ —Å–∫—Ä—ã—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
   - ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞** (TODO –¥–ª—è –±—É–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

### **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π –ü–ª–∞–Ω (v1.3)**:
1. ‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å v1.1 –Ω–∞ GitHub (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
2. üìù –î–æ–±–∞–≤–∏—Ç—å –≤ README workaround'—ã –¥–ª—è "–ø–ª–æ—Ö–∏—Ö" –ø–µ—Ä–≤—ã—Ö –∫–∞–¥—Ä–æ–≤
3. üéØ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É **—Ç–æ—á–µ–∫** (Point Prompts) –≤–º–µ—Å—Ç–æ bbox

### **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–π –ü–ª–∞–Ω (v2.0)**:
1. üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å SAM 3.0
2. üîß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SAM 3.0 —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
3. ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Reference Frame —á–µ—Ä–µ–∑ SAM 3.0 API

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –ü–ª–∞–Ω (v3.0)**:
1. üé® Multi-Object Tracking (–Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
2. üíæ Session Management (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Å—Å–∏–π)
3. üì¶ Batched Inference (—É—Å–∫–æ—Ä–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏)

---

## üìû –û–±—Ä–∞—Ç–Ω–∞—è –°–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏, –∫–∞–∫ —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–º–æ—á—å —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –æ–¥–Ω–æ–≥–æ –∏–∑ —Ä–µ—à–µ–Ω–∏–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub!

---

**–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ!** üôè

–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Ç–µ–º, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å NukeSamurai –µ—â—ë –ª—É—á—à–µ, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω–µ –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç SAM2 API. –° –≤—ã—Ö–æ–¥–æ–º SAM 3.0 –º–Ω–æ–≥–∏–µ –∏–∑ —ç—Ç–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ—à–µ–Ω—ã! üöÄ

